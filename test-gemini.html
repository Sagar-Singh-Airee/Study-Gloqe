<!DOCTYPE html>
<html>
<head>
    <title>Test Gemini</title>
</head>
<body>
    <h1>Testing Gemini API</h1>
    <button onclick="listModels()">List Available Models</button>
    <button onclick="testModel()">Test Model</button>
    <pre id="output"></pre>

    <script type="module">
        import { GoogleGenerativeAI } from 'https://esm.run/@google/generative-ai';

        const API_KEY = 'AIzaSyDjQJ_FsMJH46L--2DQiKi32EKkOtdHIoQ'; // Replace with your key
        const genAI = new GoogleGenerativeAI(API_KEY);

        window.listModels = async () => {
            try {
                const response = await fetch(
                    `https://generativelanguage.googleapis.com/v1beta/models?key=${API_KEY}`
                );
                const data = await response.json();
                document.getElementById('output').textContent = 
                    JSON.stringify(data, null, 2);
                console.log('Available models:', data);
            } catch (error) {
                document.getElementById('output').textContent = 
                    'Error: ' + error.message;
            }
        };

        window.testModel = async () => {
            try {
                // Try different model
                const model = genAI.getGenerativeModel({ 
                    model: 'gemini-1.5-flash'
                });
                
                const result = await model.generateContent('Say hello');
                const response = await result.response;
                const text = response.text();
                
                document.getElementById('output').textContent = 
                    'Success! Response: ' + text;
            } catch (error) {
                document.getElementById('output').textContent = 
                    'Error: ' + error.message;
            }
        };
    </script>
</body>
</html>
